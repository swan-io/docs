---
title: Verify a beneficiary
---

# Verify a beneficiary

Verify beneficiary details before initiating credit transfers with the `verifySepaBeneficiary` mutation.

:::warning Breaking Change
**Effective October 9, 2025:** The `beneficiaryVerification` query (Dutch IBANs only) is deprecated. Use `verifySepaBeneficiary` mutation instead for all SEPA IBANs.
:::

:::tip Prerequisites
1. You're an account member with the `canInitiatePayments` [membership permission](../../../accounts/memberships/index.mdx#permissions).
1. You're authenticating with a [user access token](../../../../developers/using-api/authentication/index.mdx#tokens-user).
:::

## Why pre-verify beneficiaries? {#why-verify}

Pre-verification provides several benefits:

- **Faster payments**: Skip VoP processing during credit transfer initiation
- **Better UX**: Display verification results when adding beneficiaries
- **Error prevention**: Catch name mismatches before payment submission
- **Bulk efficiency**: Essential for processing multiple transfers efficiently

## Verify individual beneficiary {#guide-individual}

Verify a natural person beneficiary using their full name and IBAN.

1. Call the `verifySepaBeneficiary` mutation.
1. Add your `accountId` and the beneficiary details.
1. For individuals, provide the beneficiary's `name` and `iban`.
1. Add an `externalReference` to track this verification (optional but recommended).
1. Add the verification result to the payload.

### Mutation {#mutation-individual}

üîé [Open the mutation in API Explorer](https://explorer.swan.io?query=bXV0YXRpb24gVmVyaWZ5SW5kaXZpZHVhbCB7CiAgdmVyaWZ5U2VwYUJlbmVmaWNpYXJ5KAogICAgaW5wdXQ6IHsKICAgICAgYWNjb3VudElkOiAiJFlPVVJfQUNDT1VOVF9JRCIKICAgICAgcGF5ZWVzOiBbCiAgICAgICAgewogICAgICAgICAgaWJhbjogIkZSNzYzMDAwNjAwMDAxMTIzNDU2Nzg5MDE4OSIKICAgICAgICAgIG5hbWU6ICJNYXJpZSBEdWJvaXMiCiAgICAgICAgICBleHRlcm5hbFJlZmVyZW5jZTogImludm9pY2UtMjAyNC0wMDEiCiAgICAgICAgfQogICAgICBdCiAgICB9CiAgKSB7CiAgICAuLi4gb24gVmVyaWZ5U2VwYUJlbmVmaWNpYXJ5U3VjY2Vzc1BheWxvYWQgewogICAgICBfX3R5cGVuYW1lCiAgICAgIHZlcmlmaWNhdGlvbnMgewogICAgICAgIGlkCiAgICAgICAgZXh0ZXJuYWxSZWZlcmVuY2UKICAgICAgICBjcmVhdGVkQXQKICAgICAgICB1cGRhdGVkQXQKICAgICAgICB0b2tlbgogICAgICAgIHJlc3VsdCB7CiAgICAgICAgICAuLi4gb24gQmVuZWZpY2lhcnlNYXRjaCB7CiAgICAgICAgICAgIF9fdHlwZW5hbWUKICAgICAgICAgICAgdmVyaWZpZWROYW1lOiBuYW1lCiAgICAgICAgICB9CiAgICAgICAgICAuLi4gb24gQmVuZWZpY2lhcnlDbG9zZU1hdGNoIHsKICAgICAgICAgICAgX190eXBlbmFtZQogICAgICAgICAgICBzdWdnZXN0ZWROYW1lOiBuYW1lU3VnZ2VzdGlvbgogICAgICAgICAgICBwcm92aWRlZE5hbWU6IG5hbWUKICAgICAgICAgIH0KICAgICAgICAgIC4uLiBvbiBCZW5lZmljaWFyeU1pc21hdGNoIHsKICAgICAgICAgICAgX190eXBlbmFtZQogICAgICAgICAgICBwcm92aWRlZE5hbWU6IG5hbWUKICAgICAgICAgIH0KICAgICAgICAgIC4uLiBvbiBCZW5lZmljaWFyeVZlcmlmaWNhdGlvbk5vdFBvc3NpYmxlIHsKICAgICAgICAgICAgX190eXBlbmFtZQogICAgICAgICAgICByZWFzb24KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC4uLiBvbiBWYWxpZGF0aW9uUmVqZWN0aW9uIHsKICAgICAgX190eXBlbmFtZQogICAgICBtZXNzYWdlCiAgICB9CiAgfQp9&tab=api)

```graphql {4,7-8,29} showLineNumbers
mutation VerifyIndividual {
  verifySepaBeneficiary(
    input: {
      accountId: "$YOUR_ACCOUNT_ID"
      payees: [
        {
          iban: "FR7630006000011234567890189"
          name: "Marie Dubois"
          externalReference: "invoice-2024-001"
        }
      ]
    }
  ) {
    ... on VerifySepaBeneficiarySuccessPayload {
      __typename
      verifications {
        id
        externalReference
        createdAt
        updatedAt
        token
        result {
          ... on BeneficiaryMatch {
            __typename
            verifiedName: name
          }
          ... on BeneficiaryCloseMatch {
            __typename
            suggestedName: nameSuggestion
            providedName: name
          }
          ... on BeneficiaryMismatch {
            __typename
            providedName: name
          }
          ... on BeneficiaryVerificationNotPossible {
            __typename
            reason
          }
        }
      }
    }
    ... on ValidationRejection {
      __typename
      message
    }
  }
}
```

### Payload {#payload-individual}

The payload provides a verification `token` and the verification result.

For a `BeneficiaryMatch`, the response confirms the name matches bank records:

```json {11,16,19} showLineNumbers
{
  "data": {
    "verifySepaBeneficiary": {
      "__typename": "VerifySepaBeneficiarySuccessPayload",
      "verifications": [
        {
          "id": "bver_01234567890abcdef",
          "externalReference": "invoice-2024-001",
          "createdAt": "2024-01-25T16:16:09.859Z",
          "updatedAt": "2024-01-25T16:16:10.123Z",
          "token": "vt_abc123def456...",
          "result": {
            "__typename": "BeneficiaryMatch",
            "verifiedName": "Marie Dubois"
          }
        }
      ]
    }
  }
}
```

:::info Save the token
Always save the verification `token` - you'll need it when calling `initiateCreditTransfers` to use this verification.
:::

## Verify multiple beneficiaries {#guide-multiple}

Verify several beneficiaries in a single API call for efficiency.

1. Call the `verifySepaBeneficiary` mutation.
1. Include multiple payees in the `payees` array.
1. Each payee requires `iban`, `name`, and optionally `externalReference`.

### Mutation {#mutation-multiple}

üîé [Open the mutation in API Explorer](https://explorer.swan.io?query=bXV0YXRpb24gVmVyaWZ5TXVsdGlwbGUgewogIHZlcmlmeVNlcGFCZW5lZmljaWFyeSgKICAgIGlucHV0OiB7CiAgICAgIGFjY291bnRJZDogIiRZT1VSX0FDQ09VTlRfSUQiCiAgICAgIHBheWVlczogWwogICAgICAgIHsKICAgICAgICAgIGliYW46ICJGUjc2MzAwMDYwMDAwMTEyMzQ1Njc4OTAxODkiCiAgICAgICAgICBuYW1lOiAiTWFyaWUgRHVib2lzIgogICAgICAgICAgZXh0ZXJuYWxSZWZlcmVuY2U6ICJzdXBwbGllci0wMDEiCiAgICAgICAgfQogICAgICAgIHsKICAgICAgICAgIGliYW46ICJERTA5MzcwNDAwNDQwNTMyMDEzMDAwIgogICAgICAgICAgbmFtZTogIlRlY2hDb3JwIEdtYkgiCiAgICAgICAgICBleHRlcm5hbFJlZmVyZW5jZTogInN1cHBsaWVyLTAwMiIKICAgICAgICB9CiAgICAgIF0KICAgIH0KICApIHsKICAgIC4uLiBvbiBWZXJpZnlTZXBhQmVuZWZpY2lhcnlTdWNjZXNzUGF5bG9hZCB7CiAgICAgIHZlcmlmaWNhdGlvbnMgewogICAgICAgIGlkCiAgICAgICAgZXh0ZXJuYWxSZWZlcmVuY2UKICAgICAgICB0b2tlbgogICAgICAgIHJlc3VsdCB7CiAgICAgICAgICAuLi4gb24gQmVuZWZpY2lhcnlNYXRjaCB7CiAgICAgICAgICAgIF9fdHlwZW5hbWUKICAgICAgICAgICAgdmVyaWZpZWROYW1lOiBuYW1lCiAgICAgICAgICB9CiAgICAgICAgICAuLi4gb24gQmVuZWZpY2lhcnlDbG9zZU1hdGNoIHsKICAgICAgICAgICAgX190eXBlbmFtZQogICAgICAgICAgICBzdWdnZXN0ZWROYW1lOiBuYW1lU3VnZ2VzdGlvbgogICAgICAgICAgICBwcm92aWRlZE5hbWU6IG5hbWUKICAgICAgICAgIH0KICAgICAgICAgIC4uLiBvbiBCZW5lZmljaWFyeU1pc21hdGNoIHsKICAgICAgICAgICAgX190eXBlbmFtZQogICAgICAgICAgICBwcm92aWRlZE5hbWU6IG5hbWUKICAgICAgICAgIH0KICAgICAgICAgIC4uLiBvbiBCZW5lZmljaWFyeVZlcmlmaWNhdGlvbk5vdFBvc3NpYmxlIHsKICAgICAgICAgICAgX190eXBlbmFtZQogICAgICAgICAgICByZWFzb24KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0=&tab=api)

```graphql {6-16} showLineNumbers
mutation VerifyMultiple {
  verifySepaBeneficiary(
    input: {
      accountId: "$YOUR_ACCOUNT_ID"
      payees: [
        {
          iban: "FR7630006000011234567890189"
          name: "Marie Dubois"
          externalReference: "supplier-001"
        }
        {
          iban: "DE89370400440532013000"
          name: "TechCorp GmbH"
          externalReference: "supplier-002"
        }
      ]
    }
  ) {
    ... on VerifySepaBeneficiarySuccessPayload {
      verifications {
        id
        externalReference
        token
        result {
          ... on BeneficiaryMatch {
            __typename
            verifiedName: name
          }
          ... on BeneficiaryCloseMatch {
            __typename
            suggestedName: nameSuggestion
            providedName: name
          }
          ... on BeneficiaryMismatch {
            __typename
            providedName: name
          }
          ... on BeneficiaryVerificationNotPossible {
            __typename
            reason
          }
        }
      }
    }
  }
}
```

## Understanding VoP results {#understanding-results}

### Match ‚úÖ {#result-match}

Perfect name match - proceed with confidence:

```json showLineNumbers
{
  "result": {
    "__typename": "BeneficiaryMatch",
    "verifiedName": "Marie Dubois"
  }
}
```

**Recommended action**: Proceed with payment using the verification token.

### Close Match ‚ö†Ô∏è {#result-close-match}

Slight name discrepancy with suggested correction:

```json showLineNumbers
{
  "result": {
    "__typename": "BeneficiaryCloseMatch",
    "suggestedName": "John Smith",
    "providedName": "Jon Smith"
  }
}
```

**Recommended action**: 
1. Display the suggested name to the user
2. Allow user to update the name or proceed with original
3. Use the verification token regardless of user choice

### No Match ‚ùå {#result-no-match}

Name doesn't match bank records:

```json showLineNumbers
{
  "result": {
    "__typename": "BeneficiaryMismatch",
    "providedName": "Wrong Name"
  }
}
```

**Recommended action**:
1. Warn user about potential misdirected payment
2. Suggest double-checking beneficiary details
3. Allow user to proceed with warning or correct the name

### Verification Not Possible ‚ö†Ô∏è {#result-not-possible}

Technical issue prevented verification:

```json showLineNumbers
{
  "result": {
    "__typename": "BeneficiaryVerificationNotPossible",
    "reason": "Technical timeout - verification service unavailable"
  }
}
```

**Recommended action**:
1. Retry the verification after a short delay
2. If retries fail, allow user to proceed with warning
3. Consider implementing retry logic with exponential backoff

## Error handling {#error-handling}

### Verification timeout {#error-timeout}

VoP requests must complete within 5 seconds. If verification times out, you'll receive a `BeneficiaryVerificationNotPossible` result:

```json showLineNumbers
{
  "result": {
    "__typename": "BeneficiaryVerificationNotPossible",
    "reason": "Technical timeout - verification service unavailable"
  }
}
```

**Solution**: Retry the verification or proceed with the transfer (user will see a warning in consent).

### Invalid input {#error-validation}

Common validation errors:

```json showLineNumbers
{
  "data": {
    "verifySepaBeneficiary": {
      "__typename": "ValidationRejection",
      "message": "Invalid IBAN format"
    }
  }
}
```

**Solutions**:
- Validate IBAN format before submission
- Ensure all required fields (`iban`, `name`) are provided
- Check account permissions (`canInitiatePayments`)

### Network failures {#error-network}

Handle temporary network issues with retry logic:

```typescript
async function verifyWithRetry(payee: PayeeInput, maxRetries = 3) {
  for (let attempt = 1; attempt <= maxRetries; attempt++) {
    try {
      return await verifySepaBeneficiary({ payees: [payee] });
    } catch (error) {
      if (attempt === maxRetries) throw error;
      
      // Exponential backoff: 1s, 2s, 4s
      await new Promise(resolve => 
        setTimeout(resolve, Math.pow(2, attempt) * 1000)
      );
    }
  }
}
```

## Best practices {#best-practices}

### Implementation recommendations

1. **Always pre-verify for optimal UX** - Use `verifySepaBeneficiary` for better user experience
2. **Handle all result types gracefully** - Provide clear user feedback for each VoP result
3. **Store verification tokens securely** - Tokens are single-use and expire after 24 hours
4. **Implement retry logic** - Network issues can cause temporary verification failures

### Performance optimization

- **Store tokens** for use within 24 hours
- **Handle token expiry** - Re-verify beneficiaries if tokens are older than 24 hours
- **Batch verifications** - Include multiple payees in single API calls

### User experience patterns

**When adding beneficiaries:**
```typescript
// Pseudo-code for beneficiary addition flow
async function addBeneficiary(iban: string, name: string) {
  // 1. Verify beneficiary
  const verification = await verifySepaBeneficiary({ iban, name });
  
  // 2. Handle result
  if (verification.result.__typename === "BeneficiaryCloseMatch") {
    // Show suggested name, allow user to update
    const shouldUpdate = await showNameSuggestion(verification.result.suggestedName);
    if (shouldUpdate) {
      name = verification.result.suggestedName;
    }
  }
  
  // 3. Store beneficiary with token
  await saveBeneficiary({ iban, name, token: verification.token });
}
```

**Token management:**
```typescript
interface StoredBeneficiary {
  iban: string;
  name: string;
  verificationToken?: string;
  tokenCreatedAt?: Date;
}

function isTokenValid(beneficiary: StoredBeneficiary): boolean {
  if (!beneficiary.verificationToken || !beneficiary.tokenCreatedAt) {
    return false;
  }
  
  const now = new Date();
  const expiry = new Date(beneficiary.tokenCreatedAt.getTime() + 24 * 60 * 60 * 1000);
  return now < expiry;
}
```

### Error messaging

Provide clear, actionable error messages:

| Scenario | User Message | Technical Action |
|----------|--------------|-----------------|
| **Match** | "‚úÖ Beneficiary verified successfully" | Store token, proceed |
| **Close Match** | "‚ö†Ô∏è Did you mean '[suggested name]'?" | Show suggestion option |
| **No Match** | "‚ö†Ô∏è Name doesn't match bank records. Double-check details." | Show warning, allow proceed |
| **Not Possible** | "‚ö†Ô∏è Verification unavailable. You can still proceed." | Show notice, allow proceed |
| **Network Error** | "Connection issue. Retrying..." | Implement retry logic |
| **Invalid IBAN** | "Please enter a valid IBAN" | Client-side validation |

:::info Related guides
- [VoP overview](./index.mdx) - Understanding Verification of Payee
- [VoP with credit transfers](./guide-vop-credit-transfers.mdx) - Using verification tokens
- [VoP with standing orders](./guide-vop-standing-orders.mdx) - Standing order verification
- [Sandbox testing](./sandbox.mdx) - Test VoP scenarios
:::