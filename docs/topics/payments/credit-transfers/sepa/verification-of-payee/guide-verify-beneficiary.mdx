---
title: Verify a beneficiary
---

# Verify a beneficiary

:::danger Breaking Change
**Effective October 9, 2025:** The `beneficiaryVerification` query (Dutch IBANs only) is deprecated. Use the `verifySepaBeneficiary` mutation instead for all SEPA IBANs.
:::

Verify beneficiary details before initiating credit transfers with the `verifySepaBeneficiary` mutation.

:::tip Prerequisites
1. You're an account member with the `canInitiatePayments` [membership permission](../../../accounts/memberships/index.mdx#permissions).
1. You're authenticating with a [user access token](../../../../developers/using-api/authentication/index.mdx#tokens-user).
:::

## Why pre-verify beneficiaries? {#why-verify}

Pre-verification provides several benefits:

- **Faster payments**: Skip VoP processing during credit transfer initiation
- **Better UX**: Display verification results when adding beneficiaries
- **Error prevention**: Catch name mismatches before payment submission

## Verify individual beneficiary {#guide-individual}

Verify a natural person beneficiary using their full name and IBAN.

1. Call the `verifySepaBeneficiary` mutation.
1. Add your `accountId` and the beneficiary details.
1. For individuals, provide the beneficiary's `name` and `iban`.
1. Add an `externalReference` to track this verification (optional but recommended).

### Mutation {#mutation-individual}

üîé [Open the mutation in API Explorer](https://explorer.swan.io?query=bXV0YXRpb24gVmVyaWZ5SW5kaXZpZHVhbCB7CiAgdmVyaWZ5U2VwYUJlbmVmaWNpYXJ5KAogICAgaW5wdXQ6IHsKICAgICAgYWNjb3VudElkOiAiJFlPVVJfQUNDT1VOVF9JRCIKICAgICAgcGF5ZWVzOiBbCiAgICAgICAgewogICAgICAgICAgaWJhbjogIkZSNzYzMDAwNjAwMDAxMTIzNDU2Nzg5MDE4OSIKICAgICAgICAgIG5hbWU6ICJNYXJpZSBEdWJvaXMiCiAgICAgICAgICBleHRlcm5hbFJlZmVyZW5jZTogImludm9pY2UtMjAyNC0wMDEiCiAgICAgICAgfQogICAgICBdCiAgICB9CiAgKSB7CiAgICAuLi4gb24gVmVyaWZ5U2VwYUJlbmVmaWNpYXJ5U3VjY2Vzc1BheWxvYWQgewogICAgICBfX3R5cGVuYW1lCiAgICAgIHZlcmlmaWNhdGlvbnMgewogICAgICAgIGlkCiAgICAgICAgZXh0ZXJuYWxSZWZlcmVuY2UKICAgICAgICB0b2tlbgogICAgICAgIHJlc3VsdCB7CiAgICAgICAgICAuLi4gb24gQmVuZWZpY2lhcnlNYXRjaCB7CiAgICAgICAgICAgIF9fdHlwZW5hbWUKICAgICAgICAgICAgdmVyaWZpZWROYW1lOiBuYW1lCiAgICAgICAgICB9CiAgICAgICAgICAuLi4gb24gQmVuZWZpY2lhcnlDbG9zZU1hdGNoIHsKICAgICAgICAgICAgX190eXBlbmFtZQogICAgICAgICAgICBzdWdnZXN0ZWROYW1lOiBuYW1lU3VnZ2VzdGlvbgogICAgICAgICAgICBwcm92aWRlZE5hbWU6IG5hbWUKICAgICAgICAgIH0KICAgICAgICAgIC4uLiBvbiBCZW5lZmljaWFyeU1pc21hdGNoIHsKICAgICAgICAgICAgX190eXBlbmFtZQogICAgICAgICAgICBwcm92aWRlZE5hbWU6IG5hbWUKICAgICAgICAgIH0KICAgICAgICAgIC4uLiBvbiBCZW5lZmljaWFyeVZlcmlmaWNhdGlvbk5vdFBvc3NpYmxlIHsKICAgICAgICAgICAgX190eXBlbmFtZQogICAgICAgICAgICByZWFzb24KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0=&tab=api)

```graphql {4,7-8,18} showLineNumbers
mutation VerifyIndividual {
  verifySepaBeneficiary(
    input: {
      accountId: "$YOUR_ACCOUNT_ID"
      payees: [
        {
          iban: "FR7630006000011234567890189"
          name: "Marie Dubois"
          externalReference: "invoice-2024-001"
        }
      ]
    }
  ) {
    ... on VerifySepaBeneficiarySuccessPayload {
      __typename
      verifications {
        id
        token
        result {
          ... on BeneficiaryMatch {
            __typename
            verifiedName: name
          }
          ... on BeneficiaryCloseMatch {
            __typename
            suggestedName: nameSuggestion
            providedName: name
          }
          ... on BeneficiaryMismatch {
            __typename
            providedName: name
          }
          ... on BeneficiaryVerificationNotPossible {
            __typename
            reason
          }
        }
      }
    }
  }
}
```

### Payload {#payload-individual}

The payload provides a verification `token` and the verification result.

For a `BeneficiaryMatch`, the response confirms the name matches bank records:

```json {11,16} showLineNumbers
{
  "data": {
    "verifySepaBeneficiary": {
      "__typename": "VerifySepaBeneficiarySuccessPayload",
      "verifications": [
        {
          "id": "bver_01234567890abcdef",
          "externalReference": "invoice-2024-001",
          "createdAt": "2024-01-25T16:16:09.859Z",
          "updatedAt": "2024-01-25T16:16:10.123Z",
          "token": "vt_abc123def456...",
          "result": {
            "__typename": "BeneficiaryMatch",
            "verifiedName": "Marie Dubois"
          }
        }
      ]
    }
  }
}
```

:::info Save the token
Always save the verification `token` - you'll need it when calling `initiateCreditTransfers` to use this verification.
:::

## Understanding VoP results {#understanding-results}

### Match ‚úÖ {#result-match}

Perfect name match - proceed with confidence:

```json showLineNumbers
{
  "result": {
    "__typename": "BeneficiaryMatch",
    "verifiedName": "Marie Dubois"
  }
}
```

**Recommended action**: Proceed with payment using the verification token.

### Close Match ‚ö†Ô∏è {#result-close-match}

Slight name discrepancy with suggested correction:

```json showLineNumbers
{
  "result": {
    "__typename": "BeneficiaryCloseMatch",
    "suggestedName": "John Smith",
    "providedName": "Jon Smith"
  }
}
```

**Recommended action**: 
1. Display the suggested name to the user
2. Allow user to update the name or proceed with original
3. Use the verification token regardless of user choice

### No Match ‚ùå {#result-no-match}

Name doesn't match bank records:

```json showLineNumbers
{
  "result": {
    "__typename": "BeneficiaryMismatch",
    "providedName": "Wrong Name"
  }
}
```

**Recommended action**:
1. Warn user about potential misdirected payment
2. Suggest double-checking beneficiary details
3. Allow user to proceed with warning or correct the name

### Verification Not Possible ‚ö†Ô∏è {#result-not-possible}

Technical issue prevented verification:

```json showLineNumbers
{
  "result": {
    "__typename": "BeneficiaryVerificationNotPossible",
    "reason": "Technical timeout - verification service unavailable"
  }
}
```

**Recommended action**:
1. Retry the verification after a short delay
2. If retries fail, allow user to proceed with warning

## Error handling {#error-handling}

### Verification timeout {#error-timeout}

VoP requests must complete within 5 seconds. If verification times out, you'll receive a `BeneficiaryVerificationNotPossible` result:

```json showLineNumbers
{
  "result": {
    "__typename": "BeneficiaryVerificationNotPossible",
    "reason": "Technical timeout - verification service unavailable"
  }
}
```

**Solution**: Retry the verification or proceed with the transfer (user will see a warning in consent).

### Invalid input {#error-validation}

Common validation errors:

```json showLineNumbers
{
  "data": {
    "verifySepaBeneficiary": {
      "__typename": "ValidationRejection",
      "message": "Invalid IBAN format"
    }
  }
}
```

**Solutions**:
- Validate IBAN format before submission
- Ensure all required fields (`iban`, `name`) are provided
- Check account permissions (`canInitiatePayments`)

## Best practices {#best-practices}

1. **Always pre-verify for optimal UX** - Use `verifySepaBeneficiary` for better user experience
2. **Handle all result types gracefully** - Provide clear user feedback for each VoP result
3. **Store verification tokens securely** - Tokens are single-use and expire after 24 hours
4. **Implement retry logic** - Network issues can cause temporary verification failures

## Related guides {#related}

- [VoP with credit transfers](./guide-vop-credit-transfers.mdx) - Using verification tokens
- [Sandbox testing](./sandbox.mdx) - Test VoP scenarios
- [API Reference](./api-reference.mdx) - Complete GraphQL documentation