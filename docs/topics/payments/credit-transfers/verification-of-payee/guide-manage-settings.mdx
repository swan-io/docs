ðŸ”Ž [Open the mutation in API Explorer](https://explorer.swan.io?query=bXV0YXRpb24gRGlzYWJsZVZvUCB7CiAgZGlzYWJsZVZlcmlmaWNhdGlvbk9mUGF5ZWUoCiAgICBpbnB1dDogewogICAgICBhY2NvdW50SWQ6ICIkWU9VUl9DT01QQU5ZX0FDQ09VTlRfSUQiCiAgICAgIGNvbnNlbnRSZWRpcmVjdFVybDogIiRZT1VSX1JFRElSRUNUX1VSTCIKICAgIH0KICApIHsKICAgIC4uLiBvbiBEaXNhYmxlVmVyaWZpY2F0aW9uT2ZQYXllZVN1Y2Nlc3NQYXlsb2FkIHsKICAgICAgX190eXBlbmFtZQogICAgICBhY2NvdW50IHsKICAgICAgICBpZAogICAgICAgIHZlcmlmaWNhdGlvbk9mUGF5ZWVFbmFibGVkCiAgICAgIH0KICAgICAgY29uc2VudCB7CiAgICAgICAgY29uc2VudFVybAogICAgICB9Ci---
title: Manage VoP settings
---

# Manage VoP settings

Enable and disable Verification of Payee (VoP) for company bulk transfers with the API.

Company accounts can opt out of VoP for bulk payment orders (multiple credit transfers in one API call) to reduce friction in payment workflows.

:::tip Prerequisites
1. You're an account member with the `canManageAccountMembership` and `canViewAccount` [membership permissions](../../../accounts/memberships/index.mdx#permissions), or you're the account holder.
1. You're using a **Company** account (Individual accounts cannot opt out of VoP).
1. You're authenticating with a [user access token](../../../../developers/using-api/authentication/index.mdx#tokens-user).
:::

## Disable VoP for bulk transfers {#disable}

Allow company accounts to opt out of VoP for bulk transfers while maintaining VoP for single transfers.

1. Call the `disableVerificationOfPayee` mutation.
1. Add your company `accountId` and consent redirect URL.
1. Add the success payload and rejections.

### Mutation {#disable-mutation}

ðŸ”Ž [Open the mutation in API Explorer](https://explorer.swan.io?query=bXV0YXRpb24gRGlzYWJsZVZvUCB7CiAgZGlzYWJsZVZlcmlmaWNhdGlvbk9mUGF5ZWUoCiAgICBpbnB1dDogewogICAgICBhY2NvdW50SWQ6ICIkWU9VUl9DT01QQU5ZX0FDQ09VTlRfSUQiCiAgICAgIGNvbnNlbnRSZWRpcmVjdFVybDogIiRZT1VSX1JFRElSRUNUX1VSTCIKICAgIH0KICApIHsKICAgIC4uLiBvbiBEaXNhYmxlVmVyaWZpY2F0aW9uT2ZQYXllZVN1Y2Nlc3NQYXlsb2FkIHsKICAgICAgX190eXBlbmFtZQogICAgICBhY2NvdW50IHsKICAgICAgICBpZAogICAgICAgIHZlcmlmaWNhdGlvbk9mUGF5ZWVFbmFibGVkCiAgICAgIH0KICAgICAgY29uc2VudCB7CiAgICAgICAgY29uc2VudFVybAogICAgICB9CiAgICB9CiAgICAuLi4gb24gRGlzYWJsZVZlcmlmaWNhdGlvbk9mUGF5ZWVBY2NvdW50SG9sZGVyVHlwZUluZGl2aWR1YWxSZWplY3Rpb24gewogICAgICBfX3R5cGVuYW1lCiAgICAgIG1lc3NhZ2UKICAgIH0KICAgIC4uLiBvbiBGb3JiaWRkZW5SZWplY3Rpb24gewogICAgICBfX3R5cGVuYW1lCiAgICAgIG1lc3NhZ2UKICAgIH0KICB9Cn0=&tab=api)

```graphql {4-5,11-13} showLineNumbers
mutation DisableVoP {
  disableVerificationOfPayee(
    input: {
      accountId: "$YOUR_COMPANY_ACCOUNT_ID"
      consentRedirectUrl: "$YOUR_REDIRECT_URL"
    }
  ) {
    ... on DisableVerificationOfPayeeSuccessPayload {
      __typename
      account {
        id
        verificationOfPayeeEnabled
      }
      consent {
        consentUrl
      }
    }
    ... on DisableVerificationOfPayeeAccountHolderTypeIndividualRejection {
      __typename
      message
    }
    ... on ForbiddenRejection {
      __typename
      message
    }
  }
}
```

### Payload {#disable-payload}

The payload shows VoP is now disabled for bulk transfers (`verificationOfPayeeEnabled: false`) and provides the consent URL:

```json {8,11} showLineNumbers
{
  "data": {
    "disableVerificationOfPayee": {
      "__typename": "DisableVerificationOfPayeeSuccessPayload",
      "account": {
        "id": "$YOUR_COMPANY_ACCOUNT_ID",
        "verificationOfPayeeEnabled": false
      },
      "consent": {
        "consentUrl": "https://identity.swan.io/consent?consentId=$CONSENT_ID&env=Sandbox"
      }
    }
  }
}
```

## Enable VoP for bulk transfers {#enable}

Re-enable VoP for bulk transfers when your company account has previously opted out.

1. Call the `enableVerificationOfPayee` mutation.
1. Add your company `accountId` and consent redirect URL.
1. Add the success payload and rejections.

### Mutation {#enable-mutation}

ðŸ”Ž [Open the mutation in API Explorer](https://explorer.swan.io?query=bXV0YXRpb24gRW5hYmxlVm9QIHsKICBlbmFibGVWZXJpZmljYXRpb25PZlBheWVlKAogICAgaW5wdXQ6IHsKICAgICAgYWNjb3VudElkOiAiJFlPVVJfQ09NUEFOWV9BQ0NPVU5UX0lEIgogICAgICBjb25zZW50UmVkaXJlY3RVcmw6ICIkWU9VUl9SRURJUkVDVF9VUkwiCiAgICB9CiAgKSB7CiAgICAuLi4gb24gRW5hYmxlVmVyaWZpY2F0aW9uT2ZQYXllZVN1Y2Nlc3NQYXlsb2FkIHsKICAgICAgX190eXBlbmFtZQogICAgICBhY2NvdW50IHsKICAgICAgICBpZAogICAgICAgIHZlcmlmaWNhdGlvbk9mUGF5ZWVFbmFibGVkCiAgICAgIH0KICAgICAgY29uc2VudCB7CiAgICAgICAgY29uc2VudFVybAogICAgICB9CiAgICB9CiAgICAuLi4gb24gRm9yYmlkZGVuUmVqZWN0aW9uIHsKICAgICAgX190eXBlbmFtZQogICAgICBtZXNzYWdlCiAgICB9CiAgfQp9&tab=api)

```graphql {4-5,11-13} showLineNumbers
mutation EnableVoP {
  enableVerificationOfPayee(
    input: {
      accountId: "$YOUR_COMPANY_ACCOUNT_ID"
      consentRedirectUrl: "$YOUR_REDIRECT_URL"
    }
  ) {
    ... on EnableVerificationOfPayeeSuccessPayload {
      __typename
      account {
        id
        verificationOfPayeeEnabled
      }
      consent {
        consentUrl
      }
    }
    ... on ForbiddenRejection {
      __typename
      message
    }
  }
}
```

### Payload {#enable-payload}

The payload shows VoP is now enabled for bulk transfers (`verificationOfPayeeEnabled: true`):

```json {7} showLineNumbers
{
  "data": {
    "enableVerificationOfPayee": {
      "__typename": "EnableVerificationOfPayeeSuccessPayload",
      "account": {
        "id": "$YOUR_COMPANY_ACCOUNT_ID",
        "verificationOfPayeeEnabled": true
      },
      "consent": {
        "consentUrl": "https://identity.swan.io/consent?consentId=$CONSENT_ID&env=Sandbox"
      }
    }
  }
}
```

## Check VoP status {#check-status}

Query an account to check if VoP is enabled for bulk transfers.

### Query {#status-query}

ðŸ”Ž [Open the query in API Explorer](https://explorer.swan.io?query=cXVlcnkgQ2hlY2tWb1BTdGF0dXMgewogIGFjY291bnQoaWQ6ICIkWU9VUl9BQ0NPVU5UX0lEIikgewogICAgaWQKICAgIGFjY291bnRIb2xkZXIgewogICAgICB0eXBlCiAgICB9CiAgICB2ZXJpZmljYXRpb25PZlBheWVlRW5hYmxlZAogIH0KfQ==&tab=api)

```graphql {2,6} showLineNumbers
query CheckVoPStatus {
  account(id: "$YOUR_ACCOUNT_ID") {
    id
    accountHolder {
      type
    }
    verificationOfPayeeEnabled
  }
}
```

### Payload {#status-payload}

The payload shows the account type and VoP status:

```json {7,8} showLineNumbers
{
  "data": {
    "account": {
      "id": "$YOUR_ACCOUNT_ID",
      "accountHolder": {
        "type": "Company"
      },
      "verificationOfPayeeEnabled": true
    }
  }
}
```

## Error handling {#error-handling}

### Individual account rejection {#error-individual}

Individual accounts cannot opt out of VoP:

```json showLineNumbers
{
  "data": {
    "disableVerificationOfPayee": {
      "__typename": "DisableVerificationOfPayeeAccountHolderTypeIndividualRejection",
      "message": "Individual account holders cannot opt out of Verification of Payee"
    }
  }
}
```

### Already disabled/enabled {#error-already-set}

If you try to disable VoP when it's already disabled (or enable when already enabled):

```json showLineNumbers
{
  "data": {
    "disableVerificationOfPayee": {
      "__typename": "ValidationRejection",
      "message": "Verification of Payee is already disabled for this account"
    }
  }
}
```

### Insufficient permissions {#error-permissions}

If the user doesn't have the required permissions:

```json showLineNumbers
{
  "data": {
    "disableVerificationOfPayee": {
      "__typename": "ForbiddenRejection",
      "message": "Insufficient permissions to manage VoP settings"
    }
  }
}
```

## VoP status effects {#status-effects}

### When VoP is enabled (default) {#enabled-effects}

- **Single transfers**: VoP runs automatically in background
- **Bulk transfers**: Must include verification tokens for each transfer OR will be rejected
- **Standing Orders**: VoP required at setup only (not subsequent payments)

### When VoP is disabled {#disabled-effects}

- **Single transfers**: VoP still runs automatically (cannot be disabled)
- **Bulk transfers**: VoP skipped, consent shows opt-out message
- **Standing Orders**: VoP still required at setup only

:::caution VoP liability
When VoP is disabled for bulk transfers, the consent screen displays a warning that authorizing the transfer might result in payments to unintended recipients. Swan follows regulatory requirements for this warning.
:::

## Best practices {#best-practices}

### When to disable VoP

Consider disabling VoP for bulk transfers when:
- Processing high-volume recurring payments to trusted beneficiaries
- Using pre-verified beneficiary lists with `verifySepaBeneficiary`
- Bulk payment friction significantly impacts business operations

### Recommended workflow

1. **Pre-verify beneficiaries** using `verifySepaBeneficiary` 
2. **Review verification results** and fix any No Match/Close Match issues
3. **Disable VoP for bulk transfers** if processing trusted beneficiaries
4. **Initiate bulk transfers** with confidence in beneficiary accuracy

### Security considerations

- Only disable VoP for trusted, well-maintained beneficiary lists
- Regularly audit beneficiary information for accuracy
- Consider re-enabling VoP if beneficiary data changes frequently
- Monitor for any misdirected payments when VoP is disabled

:::info Related guides
- [VoP overview](./index.mdx) - Understanding Verification of Payee
- [Verify a beneficiary](./guide-verify-beneficiary.mdx) - Pre-verify beneficiaries
- [Account memberships](../../../accounts/memberships/index.mdx) - Required permissions
:::