---
title: Initiate a credit transfer
---

# Initiate a credit transfer

Send SEPA Credit Transfers, Instant SEPA Credit Transfers, and Swan Internal Credit Transfers with the API.

If you use [Swan's Web Banking frontend](https://swan-io.github.io/swan-partner-frontend/specs/banking/transfer), your users can send transfers from their account directly.

:::tip Prerequisites
1. You're an account member with the `canInitiatePayments` [membership permission](../../../accounts/memberships/index.mdx#permissions).
1. You're authenticating with a [user access token](../../../../developers/using-api/authentication/index.mdx#tokens-user).
:::

:::info VoP Integration
Swan automatically includes [Verification of Payee (VoP)](/topics/payments/credit-transfers/sepa/vop/verification-of-payee) in all single SEPA Credit Transfers. For an optimal user experience, consider integrating the `verifyBeneficiary` mutation.
:::

## Send a SEPA Credit Transfer {#guide-sepa}

Send a SEPA Credit Transfer to a beneficiary within the SEPA network.

1. Call the `initiateCreditTransfers` mutation.
1. Add all required information, marked by an (*) asterisk in API Explorer, including your Swan `accountId` (line 6), and information such as your redirect URL and your transfer amount. 
1. Add [an `idempotencyKey`](../../../../developers/using-api/idempotency.mdx) to prevent duplicate payments (line 4).
1. For this use case, add information about your `sepaBeneficiary`, including their name and IBAN (lines 10-11).
1. For `mode`, choose `Regular` to send a basic SEPA Credit Transfer.
1. Add the `InitiateCreditTransfersSuccessPayload` payload.
1. Add the consent URL to the success payload (line 28): `statusInfo` > `PaymentConsentPending` > `consent` > `consentUrl`.
1. Add rejections (not shown).

<a href="https://explorer.swan.io?query=bXV0YXRpb24gU2VwYURlZmF1bHQgewogIGluaXRpYXRlQ3JlZGl0VHJhbnNmZXJzKAogICAgaW5wdXQ6IHsKICAgICAgaWRlbXBvdGVuY3lLZXk6ICIkWU9VUl9JREVNUE9URU5DWV9LRVkiCiAgICAgIGNvbnNlbnRSZWRpcmVjdFVybDogIiRZT1VSX1JFRElSRUNUX1VSTCIKICAgICAgYWNjb3VudElkOiAiJFlPVVJfQUNDT1VOVF9JRCIKICAgICAgY3JlZGl0VHJhbnNmZXJzOiB7CiAgICAgICAgYW1vdW50OiB7IHZhbHVlOiAiMTAwIiwgY3VycmVuY3k6ICJFVVIiIH0KICAgICAgICBzZXBhQmVuZWZpY2lhcnk6IHsKICAgICAgICAgIGliYW46ICJJVDIzUDAzMDAyMDMyODA2MzIxMjM1NTM3NDgiCiAgICAgICAgICBuYW1lOiAiRnJhbmNlc2NhIFZlcnJpbGxpIgogICAgICAgICAgaXNNeU93bkliYW46IGZhbHNlCiAgICAgICAgICBzYXZlOiBmYWxzZQogICAgICAgIH0KICAgICAgICBtb2RlOiBSZWd1bGFyCiAgICAgIH0KICAgIH0KICApIHsKICAgIC4uLiBvbiBJbml0aWF0ZUNyZWRpdFRyYW5zZmVyc1N1Y2Nlc3NQYXlsb2FkIHsKICAgICAgX190eXBlbmFtZQogICAgICBwYXltZW50IHsKICAgICAgICBjcmVhdGVkQXQKICAgICAgICBpZAogICAgICAgIHN0YXR1c0luZm8gewogICAgICAgICAgLi4uIG9uIFBheW1lbnRDb25zZW50UGVuZGluZyB7CiAgICAgICAgICAgIF9fdHlwZW5hbWUKICAgICAgICAgICAgY29uc2VudCB7CiAgICAgICAgICAgICAgY29uc2VudFVybAogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Cg%3D%3D&tab=api" className="explorer-badge">Open in API Explorer</a>

```graphql {4,6,10-11,15,19,25,28} showLineNumbers
mutation SepaDefault {
  initiateCreditTransfers(
    input: {
      idempotencyKey: "$YOUR_IDEMPOTENCY_KEY"
      consentRedirectUrl: "$YOUR_REDIRECT_URL"
      accountId: "$YOUR_ACCOUNT_ID"
      creditTransfers: {
        amount: { value: "100", currency: "EUR" }
        sepaBeneficiary: {
          iban: "IT23P0300203280632123553748"
          name: "Francesca Verrilli"
          isMyOwnIban: false
          save: false
        }
        mode: Regular
      }
    }
  ) {
    ... on InitiateCreditTransfersSuccessPayload {
      __typename
      payment {
        createdAt
        id
        statusInfo {
          ... on PaymentConsentPending {
            __typename
            consent {
              consentUrl
            }
          }
        }
      }
    }
  }
}
```

### Add an invoice reference  {#invoice-reference}

Send a SEPA Credit Transfer with an optional structured or unstructured [invoice reference](/topics/payments/credit-transfers/sepa/#invoice-references) by using the `labelType` and `label` fields.

1. Call the `initiateCreditTransfers` mutation.
1. Add all required information, marked by an (*) asterisk in API Explorer, including any information such as your consent redirect URL (line 4), your Swan `accountId` (line 5), and your transfer amount (line 7).
1. For this use case, add information about your `sepaBeneficiary`, including their name and IBAN (lines 8-10).
1. Add `labelType`, choose an option (lines 13-14), and add the reference value in the `label` input.
1. Add the `InitiateCreditTransfersSuccessPayload` (line 18).
1. Add the consent URL to the success payload (line 22): `statusInfo` > `PaymentConsentPending` > `consent` > `consentUrl`.
1. Include error handling for all rejection types defined in the `initiateCreditTransfersPayload` union (lines 31-55)

<a href="https://explorer.swan.io?query=bXV0YXRpb24gaW5pdGlhdGVXaXRoTGFiZWxUeXBlIHsKICBpbml0aWF0ZUNyZWRpdFRyYW5zZmVycygKICAgIGlucHV0OiB7CiAgICAgIGNvbnNlbnRSZWRpcmVjdFVybDogIiRZT1VSX1JFRElSRUNUX1VSTCIKICAgICAgYWNjb3VudElkOiAiJFlPVVJfQUNDT1VOVF9JRCIKICAgICAgY3JlZGl0VHJhbnNmZXJzOiB7CiAgICAgICAgYW1vdW50OiB7IHZhbHVlOiAiMTAwIiwgY3VycmVuY3k6ICJFVVIiIH0KICAgICAgICBzZXBhQmVuZWZpY2lhcnk6IHsKICAgICAgICAgIGliYW46ICJJVDIzUDAzMDAyMDMyODA2MzIxMjM1NTM3NDgiCiAgICAgICAgICBuYW1lOiAiRnJhbmNlc2NhIFZlcnJpbGxpIgogICAgICAgICAgc2F2ZTogZmFsc2UKICAgICAgICB9CiAgICAgICAgbGFiZWxUeXBlOiBPZ21WY3MKICAgICAgICBsYWJlbDogIjAwMDAwMDAwMDA5NyIKICAgICAgfQogICAgfQogICkgewogICAgLi4uIG9uIEluaXRpYXRlQ3JlZGl0VHJhbnNmZXJzU3VjY2Vzc1BheWxvYWQgewogICAgICBfX3R5cGVuYW1lCiAgICAgIHBheW1lbnQgewogICAgICAgIHN0YXR1c0luZm8gewogICAgICAgICAgLi4uIG9uIFBheW1lbnRDb25zZW50UGVuZGluZyB7CiAgICAgICAgICAgIF9fdHlwZW5hbWUKICAgICAgICAgICAgY29uc2VudCB7CiAgICAgICAgICAgICAgY29uc2VudFVybAogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAuLi4gb24gVmFsaWRhdGlvblJlamVjdGlvbiB7CiAgICAgIF9fdHlwZW5hbWUKICAgICAgZmllbGRzIHsKICAgICAgICBjb2RlCiAgICAgICAgbWVzc2FnZQogICAgICAgIHBhdGgKICAgICAgfQogICAgICBtZXNzYWdlCiAgICB9CiAgICAuLi4gb24gQmVuZWZpY2lhcnlWZXJpZmljYXRpb25Ub2tlbkFscmVhZHlDb25zdW1lZFJlamVjdGlvbiB7CiAgICAgIF9fdHlwZW5hbWUKICAgICAgbWVzc2FnZQogICAgICBiZW5lZmljaWFyeVZlcmlmaWNhdGlvblRva2VucwogICAgfQogICAgLi4uIG9uIEludGVybmFsRXJyb3JSZWplY3Rpb24gewogICAgICBfX3R5cGVuYW1lCiAgICAgIG1lc3NhZ2UKICAgIH0KICAgIC4uLiBvbiBGb3JiaWRkZW5SZWplY3Rpb24gewogICAgICBfX3R5cGVuYW1lCiAgICAgIG1lc3NhZ2UKICAgIH0KICAgIC4uLiBvbiBBY2NvdW50Tm90Rm91bmRSZWplY3Rpb24gewogICAgICBpZAogICAgICBtZXNzYWdlCiAgICB9CiAgfQp9Cg%3D%3D&tab=api" className="explorer-badge">Open in API Explorer</a>

```graphql {4,5,7,8-10,13-14,18,22} showLineNumbers
mutation initiateWithLabelType {
  initiateCreditTransfers(
    input: {
      consentRedirectUrl: "$YOUR_REDIRECT_URL"
      accountId: "$YOUR_ACCOUNT_ID"
      creditTransfers: {
        amount: { value: "100", currency: "EUR" }
        sepaBeneficiary: {
          iban: "IT23P0300203280632123553748"
          name: "Francesca Verrilli"
          save: false
        }
        labelType: OgmVcs
        label: "000000000097"
      }
    }
  ) {
    ... on InitiateCreditTransfersSuccessPayload {
      __typename
      payment {
        statusInfo {
          ... on PaymentConsentPending {
            __typename
            consent {
              consentUrl
            }
          }
        }
      }
    }
    ... on ValidationRejection {
      __typename
      fields {
        code
        message
        path
      }
      message
    }
    ... on BeneficiaryVerificationTokenAlreadyConsumedRejection {
      __typename
      message
      beneficiaryVerificationTokens
    }
    ... on InternalErrorRejection {
      __typename
      message
    }
    ... on ForbiddenRejection {
      __typename
      message
    }
    ... on AccountNotFoundRejection {
      id
      message
    }
  }
}
```

## Send an Instant SEPA Credit Transfer {#guide-instant}

Send an Instant SEPA Credit Transfer to a beneficiary within the SEPA network.

1. Call the `initiateCreditTransfers` mutation.
1. Add all required information, marked by an (*) asterisk in API Explorer, including your Swan `accountId` (line 6), and information such as your redirect URL and your transfer amount.
1. Add [an `idempotencyKey`](../../../../developers/using-api/idempotency.mdx) to prevent duplicate payments (line 4).
1. For this use case, add information about your `sepaBeneficiary`, including their name and IBAN (lines 10-11).
1. For `mode`, choose `InstantWithFallback`, which begins as an instant transfer but falls back to a regular transfer if instant isn't available.
1. Add the `InitiateCreditTransfersSuccessPayload` payload.
1. Add the consent URL to the success payload (line 28): `statusInfo` > `PaymentConsentPending` > `consent` > `consentUrl`.
1. Add rejections (not shown).

<a href="https://explorer.swan.io?query=bXV0YXRpb24gU2VwYUluc3RhbnQgewogIGluaXRpYXRlQ3JlZGl0VHJhbnNmZXJzKAogICAgaW5wdXQ6IHsKICAgICAgaWRlbXBvdGVuY3lLZXk6ICIkWU9VUl9JREVNUE9URU5DWV9LRVkiCiAgICAgIGNvbnNlbnRSZWRpcmVjdFVybDogIiRZT1VSX1JFRElSRUNUX1VSTCIKICAgICAgYWNjb3VudElkOiAiJFlPVVJfQUNDT1VOVF9JRCIKICAgICAgY3JlZGl0VHJhbnNmZXJzOiB7CiAgICAgICAgYW1vdW50OiB7IHZhbHVlOiAiMTAwIiwgY3VycmVuY3k6ICJFVVIiIH0KICAgICAgICBzZXBhQmVuZWZpY2lhcnk6IHsKICAgICAgICAgIGliYW46ICJJVDIzUDAzMDAyMDMyODA2MzIxMjM1NTM3NDgiCiAgICAgICAgICBuYW1lOiAiRnJhbmNlc2NhIFZlcnJpbGxpIgogICAgICAgICAgaXNNeU93bkliYW46IGZhbHNlCiAgICAgICAgICBzYXZlOiBmYWxzZQogICAgICAgIH0KICAgICAgICBtb2RlOiBJbnN0YW50V2l0aEZhbGxiYWNrCiAgICAgIH0KICAgIH0KICApIHsKICAgIC4uLiBvbiBJbml0aWF0ZUNyZWRpdFRyYW5zZmVyc1N1Y2Nlc3NQYXlsb2FkIHsKICAgICAgX190eXBlbmFtZQogICAgICBwYXltZW50IHsKICAgICAgICBjcmVhdGVkQXQKICAgICAgICBpZAogICAgICAgIHN0YXR1c0luZm8gewogICAgICAgICAgLi4uIG9uIFBheW1lbnRDb25zZW50UGVuZGluZyB7CiAgICAgICAgICAgIF9fdHlwZW5hbWUKICAgICAgICAgICAgY29uc2VudCB7CiAgICAgICAgICAgICAgY29uc2VudFVybAogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Cg%3D%3D&tab=api" className="explorer-badge">Open in API Explorer</a>

```graphql {4,6,10-11,15,19,25,28} showLineNumbers
mutation SepaInstant {
  initiateCreditTransfers(
    input: {
      idempotencyKey: "$YOUR_IDEMPOTENCY_KEY"
      consentRedirectUrl: "$YOUR_REDIRECT_URL"
      accountId: "$YOUR_ACCOUNT_ID"
      creditTransfers: {
        amount: { value: "100", currency: "EUR" }
        sepaBeneficiary: {
          iban: "IT23P0300203280632123553748"
          name: "Francesca Verrilli"
          isMyOwnIban: false
          save: false
        }
        mode: InstantWithFallback
      }
    }
  ) {
    ... on InitiateCreditTransfersSuccessPayload {
      __typename
      payment {
        createdAt
        id
        statusInfo {
          ... on PaymentConsentPending {
            __typename
            consent {
              consentUrl
            }
          }
        }
      }
    }
  }
}
```

## Send a Swan Internal Credit Transfer {#guide-internal}

Send an internal credit transfer within Swan's network using the beneficiary's Swan account number.

1. Call the `initiateCreditTransfers` mutation.
1. Add all required information, marked by an (*) asterisk in API Explorer, including your Swan `accountId` (line 6), and information such as your redirect URL and your transfer amount. 
1. Add [an `idempotencyKey`](../../../../developers/using-api/idempotency.mdx) to prevent duplicate payments (line 4).
1. For this use case, add information about your `swanAccountBeneficiary` instead of a SEPA beneficiary, including their name and Swan account number (lines 10-11).
1. Add the `InitiateCreditTransfersSuccessPayload` payload.
1. Add the consent URL to the success payload (line 28): `statusInfo` > `PaymentConsentPending` > `consent` > `consentUrl`.
1. Add rejections (not shown).

<a href="https://explorer.swan.io?query=bXV0YXRpb24gU3dhbkludGVybmFsIHsKICBpbml0aWF0ZUNyZWRpdFRyYW5zZmVycygKICAgIGlucHV0OiB7CiAgICAgIGlkZW1wb3RlbmN5S2V5OiAiJFlPVVJfSURFTVBPVEVOQ1lfS0VZIgogICAgICBjb25zZW50UmVkaXJlY3RVcmw6ICIkWU9VUl9SRURJUkVDVF9VUkwiCiAgICAgIGFjY291bnRJZDogIiRZT1VSX0FDQ09VTlRfSUQiCiAgICAgIGNyZWRpdFRyYW5zZmVyczogewogICAgICAgIGFtb3VudDogeyB2YWx1ZTogIjEwMCIsIGN1cnJlbmN5OiAiRVVSIiB9CiAgICAgICAgc3dhbkFjY291bnRCZW5lZmljaWFyeTogewogICAgICAgICAgYWNjb3VudE51bWJlcjogIiRTV0FOX0FDQ09VTlRfTlVNQkVSIgogICAgICAgICAgbmFtZTogIkhlbnJpIER1cG9udCIKICAgICAgICAgIHNhdmU6IGZhbHNlCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgKSB7CiAgICAuLi4gb24gSW5pdGlhdGVDcmVkaXRUcmFuc2ZlcnNTdWNjZXNzUGF5bG9hZCB7CiAgICAgIF9fdHlwZW5hbWUKICAgICAgcGF5bWVudCB7CiAgICAgICAgY3JlYXRlZEF0CiAgICAgICAgaWQKICAgICAgICBzdGF0dXNJbmZvIHsKICAgICAgICAgIHN0YXR1cwogICAgICAgICAgLi4uIG9uIFBheW1lbnRDb25zZW50UGVuZGluZyB7CiAgICAgICAgICAgIF9fdHlwZW5hbWUKICAgICAgICAgICAgc3RhdHVzCiAgICAgICAgICAgIGNvbnNlbnQgewogICAgICAgICAgICAgIGNvbnNlbnRVcmwKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfQo%3D&tab=api" className="explorer-badge">Open in API Explorer</a>

```graphql {4,6,10-11,17,24,28} showLineNumbers
mutation SwanInternal {
  initiateCreditTransfers(
    input: {
      idempotencyKey: "$YOUR_IDEMPOTENCY_KEY"
      consentRedirectUrl: "$YOUR_REDIRECT_URL"
      accountId: "$YOUR_ACCOUNT_ID"
      creditTransfers: {
        amount: { value: "100", currency: "EUR" }
        swanAccountBeneficiary: {
          accountNumber: "$SWAN_ACCOUNT_NUMBER"
          name: "Henri Dupont"
          save: false
        }
      }
    }
  ) {
    ... on InitiateCreditTransfersSuccessPayload {
      __typename
      payment {
        createdAt
        id
        statusInfo {
          status
          ... on PaymentConsentPending {
            __typename
            status
            consent {
              consentUrl
            }
          }
        }
      }
    }
  }
}
```

## Send multiple credit transfers {#guide-multiple}

:::tip Bulk credit transfers with VoP
For bulk credit transfers requiring Verification of Payee (VoP), you must use verification tokens from the `verifyBeneficiary` mutation. [Learn more about bulk credit transfers with VoP â†’](/topics/payments/credit-transfers/sepa/vop/bulk-credit-transfers)
:::

Send up to 2500 credit transfers in a single API call.
You can send a mix of SEPA Credit Transfers, Instant SEPA Credit Transfers, and Swan Internal Credit Transfers in the same mutation.

1. Call the `initiateCreditTransfers` mutation.
1. Add all required information, marked by an (*) asterisk in API Explorer, including your Swan `accountId` (line 6), and information such as your redirect URL.
1. Add [an `idempotencyKey`](../../../../developers/using-api/idempotency.mdx) to prevent duplicate payments (line 4).
1. Add a beneficiary block for each of your beneficiaries. The beneficiary block includes:
    - `amount`, meaning you can send a different amount to each beneficiary (in euros).
    - `sepaBeneficiary` or `swanAccountBeneficiary` object.
    - `mode` (optional), meaning you can send instant and regular transfers with the same API call.
    - The example blocks (lines 9-16, 19-26, and 29-35) model different configurations.
1. Add the `InitiateCreditTransfersSuccessPayload` payload.
1. Add the consent URL to the success payload (line 49): `statusInfo` > `PaymentConsentPending` > `consent` > `consentUrl`.
1. Add rejections (not shown).

<a href="https://explorer.swan.io?query=bXV0YXRpb24gTXVsdGlwbGVUcmFuc2ZlcnMgewogIGluaXRpYXRlQ3JlZGl0VHJhbnNmZXJzKAogICAgaW5wdXQ6IHsKICAgICAgaWRlbXBvdGVuY3lLZXk6ICIkWU9VUl9JREVNUE9URU5DWV9LRVkiCiAgICAgIGNvbnNlbnRSZWRpcmVjdFVybDogIiRZT1VSX1JFRElSRUNUX1VSTCIKICAgICAgYWNjb3VudElkOiAiJFlPVVJfQUNDT1VOVF9JRCIKICAgICAgY3JlZGl0VHJhbnNmZXJzOiBbCiAgICAgICAgewogICAgICAgICAgYW1vdW50OiB7IHZhbHVlOiAiMjAwIiwgY3VycmVuY3k6ICJFVVIiIH0KICAgICAgICAgIHNlcGFCZW5lZmljaWFyeTogewogICAgICAgICAgICBpYmFuOiAiSVQyM1AwMzAwMjAzMjgwNjMyMTIzNTUzNzQ4IgogICAgICAgICAgICBuYW1lOiAiRnJhbmNlc2NhIFZlcnJpbGxpIgogICAgICAgICAgICBpc015T3duSWJhbjogZmFsc2UKICAgICAgICAgICAgc2F2ZTogZmFsc2UKICAgICAgICAgIH0KICAgICAgICAgIG1vZGU6IEluc3RhbnRXaXRoRmFsbGJhY2sKICAgICAgICB9CiAgICAgICAgewogICAgICAgICAgYW1vdW50OiB7IHZhbHVlOiAiMTAwIiwgY3VycmVuY3k6ICJFVVIiIH0KICAgICAgICAgIHNlcGFCZW5lZmljaWFyeTogewogICAgICAgICAgICBpYmFuOiAiR0I2MUJBUkMyMDAzNTM2ODc2NjE3OCIKICAgICAgICAgICAgbmFtZTogIkRpbGxvbiBCeXJuZSIKICAgICAgICAgICAgaXNNeU93bkliYW46IGZhbHNlCiAgICAgICAgICAgIHNhdmU6IGZhbHNlCiAgICAgICAgICB9CiAgICAgICAgICBtb2RlOiBSZWd1bGFyCiAgICAgICAgfQogICAgICAgIHsKICAgICAgICAgIGFtb3VudDogeyB2YWx1ZTogIjEwMCIsIGN1cnJlbmN5OiAiRVVSIiB9CiAgICAgICAgICBzd2FuQWNjb3VudEJlbmVmaWNpYXJ5OiB7CiAgICAgICAgICAgIGFjY291bnROdW1iZXI6ICIyMTA3NzUyMjc2MSIKICAgICAgICAgICAgbmFtZTogIkhlbnJpIER1cG9udCIKICAgICAgICAgICAgc2F2ZTogZmFsc2UKICAgICAgICAgIH0KICAgICAgICAgIG1vZGU6IFJlZ3VsYXIKICAgICAgICB9CiAgICAgIF0KICAgIH0KICApIHsKICAgIC4uLiBvbiBJbml0aWF0ZUNyZWRpdFRyYW5zZmVyc1N1Y2Nlc3NQYXlsb2FkIHsKICAgICAgX190eXBlbmFtZQogICAgICBwYXltZW50IHsKICAgICAgICBjcmVhdGVkQXQKICAgICAgICBpZAogICAgICAgIHN0YXR1c0luZm8gewogICAgICAgICAgLi4uIG9uIFBheW1lbnRDb25zZW50UGVuZGluZyB7CiAgICAgICAgICAgIF9fdHlwZW5hbWUKICAgICAgICAgICAgY29uc2VudCB7CiAgICAgICAgICAgICAgY29uc2VudFVybAogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Cg%3D%3D&tab=api" className="explorer-badge">Open in API Explorer</a>

```graphql {4,6,9-16,19-26,29-35,40,46,49} showLineNumbers
mutation MultipleTransfers {
  initiateCreditTransfers(
    input: {
      idempotencyKey: "$YOUR_IDEMPOTENCY_KEY"
      consentRedirectUrl: "$YOUR_REDIRECT_URL"
      accountId: "$YOUR_ACCOUNT_ID"
      creditTransfers: [
        {
          amount: { value: "200", currency: "EUR" }
          sepaBeneficiary: {
            iban: "IT23P0300203280632123553748"
            name: "Francesca Verrilli"
            isMyOwnIban: false
            save: false
          }
          mode: InstantWithFallback
        }
        {
          amount: { value: "100", currency: "EUR" }
          sepaBeneficiary: {
            iban: "GB61BARC20035368766178"
            name: "Dillon Byrne"
            isMyOwnIban: false
            save: false
          }
          mode: Regular
        }
        {
          amount: { value: "100", currency: "EUR" }
          swanAccountBeneficiary: {
            accountNumber: "21077522761"
            name: "Henri Dupont"
            save: false
          }
          mode: Regular
        }
      ]
    }
  ) {
    ... on InitiateCreditTransfersSuccessPayload {
      __typename
      payment {
        createdAt
        id
        statusInfo {
          ... on PaymentConsentPending {
            __typename
            consent {
              consentUrl
            }
          }
        }
      }
    }
  }
}
```

## Identify the initiating user {#initiating-user}

Identify which user initiated a credit transfer by querying the payment's consent information, or by storing user details at the time of initiation.

### Query the payment for consent information {#query-payment}

When a credit transfer is initiated, the payment includes consent information that identifies the user who initiated and consented to the transfer.
Query the payment's `statusInfo` to access the `consent` object, which contains the `userId` and full `user` details.

1. Call the `payment` query.
1. Add the payment ID.
1. Include `statusInfo` with the `PaymentConsentPending` fragment to access consent details.
1. Add `userId` and `user` fields to identify the initiating user (lines 9-14).

<a href="https://explorer.swan.io?query=cXVlcnkgR2V0UGF5bWVudEluaXRpYXRvciB7CiAgcGF5bWVudChpZDogIiRZT1VSX1BBWU1FTlRfSUQiKSB7CiAgICBpZAogICAgY3JlYXRlZEF0CiAgICBzdGF0dXNJbmZvIHsKICAgICAgc3RhdHVzCiAgICAgIC4uLiBvbiBQYXltZW50Q29uc2VudFBlbmRpbmcgewogICAgICAgIGNvbnNlbnQgewogICAgICAgICAgdXNlcklkCiAgICAgICAgICB1c2VyIHsKICAgICAgICAgICAgaWQKICAgICAgICAgICAgZmlyc3ROYW1lCiAgICAgICAgICAgIGxhc3ROYW1lCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9&tab=api" className="explorer-badge">Open in API Explorer</a>

```graphql {9-14} showLineNumbers
query GetPaymentInitiator {
  payment(id: "$YOUR_PAYMENT_ID") {
    id
    createdAt
    statusInfo {
      status
      ... on PaymentConsentPending {
        consent {
          userId
          user {
            id
            firstName
            lastName
          }
        }
      }
    }
  }
}
```

### Store user information at initiation {#store-at-initiation}

The recommended practice is to store the user information at the time you initiate the transfer.

The `initiateCreditTransfers` mutation requires a [user access token](../../../../developers/using-api/authentication/index.mdx#tokens-user), which identifies the initiating user.
When you call the mutation successfully, store the user ID or account membership ID alongside the `paymentId` returned in the response.

This provides immediate access to user information without requiring additional queries, and remains available even after the consent status changes.

## Payload {#payload}

The payload is similar for all the sample mutations on this page.

The payload shows that the credit transfer is created with the status `ConsentPending` (line 9), and provides the `consentUrl` (line 12).
Send the `consentUrl` to your user.

If you're sending multiple transfers, your user consents to all of them with a single `consentUrl`.

```json {9,12} showLineNumbers
{
  "data": {
    "initiateCreditTransfers": {
      "__typename": "InitiateCreditTransfersSuccessPayload",
      "payment": {
        "createdAt": "2024-01-25T16:16:09.859Z",
        "id": "$YOUR_PAYMENT_ID",
        "statusInfo": {
          "status": "ConsentPending",
          "__typename": "PaymentConsentPending",
          "consent": {
            "consentUrl": "https://identity.swan.io/consent?consentId=$YOUR_CONSENT_ID&env=Sandbox"
          }
        }
      }
    }
  }
}
```

:::danger Rejected
If your transaction is created with the status `Rejected`, learn why in the `rejectedReasonCode` field.
For example, the rejection could be due to insufficient funds, or communication between Swan and the other bank timed out.
:::