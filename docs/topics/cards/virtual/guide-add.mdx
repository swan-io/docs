---
title: Add virtual cards
---

# Add virtual cards

You can add one or multiple virtual cards, as well as single-use virtual cards.
After adding a virtual card, you can update that card, view sensitive card information, and cancel or deactivate the card.

:::tip Prerequisites
You need to add [account memberships](../../accounts/memberships/index.mdx) before creating cards.
Follow the guides to add [one membership](../../accounts/memberships/guide-add-one.mdx) or [multiple memberships](../../accounts/memberships/guide-add-multiple.mdx).
:::

## Add a virtual card {#add-one}

Add a new card for an existing account member by calling the `addCard` mutation.
This mutation can only be called on behalf of an account member with the `canManageAccountMembership` rights.
When you do this, make sure you are authenticated with a user access token in the name of the account member.

The new card is thus created with the `ConsentPending` status.
A `consentUrl` is returned which invites the user to start Strong Customer Authentication with Swan. 
After the user completes the Strong Customer Authentication process, the new card changes to `Activated` status.

In the mutation, you can use `cardProductId` field (optional) to choose which card design the user will receive.
If don't use this field, they'll receive your default card product design.

:::info Users can add virtual cards
Users with `CanManageCards` permission can add their own virtual card directly from Swan's Web Banking interface, and they can use the virtual card immediately.
:::

### Mutation

<a href="https://explorer.swan.io?query=bXV0YXRpb24gQWRkVmlydHVhbENhcmQgewogIGFkZENhcmQoCiAgICBpbnB1dDogewogICAgICBhY2NvdW50TWVtYmVyc2hpcElkOiAiJFlPVVJfQUNDT1VOVF9NRU1CRVJTSElQX0lEIgogICAgICB3aXRoZHJhd2FsOiB0cnVlCiAgICAgIGludGVybmF0aW9uYWw6IHRydWUKICAgICAgbm9uTWFpbkN1cnJlbmN5VHJhbnNhY3Rpb25zOiB0cnVlCiAgICAgIGVDb21tZXJjZTogdHJ1ZQogICAgICBjb25zZW50UmVkaXJlY3RVcmw6ICIkWU9VUl9SRURJUkVDVF9VUkwiCiAgICAgIG5hbWU6ICJNeSBGaXJzdCBTd2FuIENhcmQiCiAgICB9CiAgKSB7CiAgICAuLi4gb24gQWRkQ2FyZFN1Y2Nlc3NQYXlsb2FkIHsKICAgICAgX190eXBlbmFtZQogICAgICBjYXJkIHsKICAgICAgICBzdGF0dXNJbmZvIHsKICAgICAgICAgIC4uLiBvbiBDYXJkQ29uc2VudFBlbmRpbmdTdGF0dXNJbmZvIHsKICAgICAgICAgICAgX190eXBlbmFtZQogICAgICAgICAgICBjb25zZW50IHsKICAgICAgICAgICAgICBjb25zZW50VXJsCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWQKICAgICAgfQogICAgfQogIH0KfQo%3D&tab=api" className="explorer-badge">Open in API Explorer</a>

```graphql {4,9} showLineNumbers
mutation AddVirtualCard {
  addCard(
    input: {
      accountMembershipId: "$YOUR_ACCOUNT_MEMBERSHIP_ID"
      withdrawal: true
      international: true
      nonMainCurrencyTransactions: true
      eCommerce: true
      consentRedirectUrl: "$REDIRECT_URL"
      name: "My First Swan Card"
    }
  ) {
    ... on AddCardSuccessPayload {
      __typename
      card {
        statusInfo {
          ... on CardConsentPendingStatusInfo {
            __typename
            consent {
              consentUrl
            }
          }
        }
        id
      }
    }
  }
}
```

### Payload

```json {9,12} showLineNumbers
{
  "data": {
    "addCard": {
      "__typename": "AddCardSuccessPayload",
      "card": {
        "statusInfo": {
          "__typename": "CardConsentPendingStatusInfo",
          "consent": {
            "consentUrl": "$YOUR_CONSENT_URL"
          }
        },
        "id": "$YOUR_CARD_ID"
      }
    }
  }
}
```

## Add multiple virtual cards {#add-multiple}

Add multiple cards to different existing account members by calling the `addCards` mutation.
It works nearly the same way as `addCard` with two additional features:

1. Add the physical card at the same time you add the virtual card by using the `physicalCard` field in the `addCards` mutation, plus entering a delivery address.
1. Configure the spending limit when adding the card with the `spendingLimit` field in the `addCards` mutation.

The new card is thus created with the `ConsentPending` status.
A `consentUrl` is returned which invites the user to start Strong Customer Authentication with Swan. 
After the user completes the Strong Customer Authentication process, the new card changes to `Processing` status.

The cards are created asynchronously and then change to the `Enabled` status.

Depending on how many cards you're creating, it can take up to several minutes to complete the process.
For performance reasons, you can create up to **200 cards** per API call.

:::tip Expense management
Use `addCards` to issue cards to your whole team in a single API call.
Each card can have its own spending limit and physical card shipped to a different address.
:::

### Mutation

<a href="https://explorer.swan.io?query=bXV0YXRpb24gQWRkTXVsdGlwbGVDYXJkcyB7CiAgYWRkQ2FyZHMoCiAgICBpbnB1dDogewogICAgICBjYXJkczogWwogICAgICAgIHsKICAgICAgICAgIGFjY291bnRNZW1iZXJzaGlwSWQ6ICIkQUNDT1VOVF9NRU1CRVJTSElQX0lEXzEiCiAgICAgICAgICB3aXRoZHJhd2FsOiB0cnVlCiAgICAgICAgICBpbnRlcm5hdGlvbmFsOiBmYWxzZQogICAgICAgICAgbm9uTWFpbkN1cnJlbmN5VHJhbnNhY3Rpb25zOiBmYWxzZQogICAgICAgICAgZUNvbW1lcmNlOiB0cnVlCiAgICAgICAgICBuYW1lOiAiVGVhbSBNZW1iZXIgMSIKICAgICAgICAgIHNwZW5kaW5nTGltaXQ6IHsKICAgICAgICAgICAgcGVyaW9kOiBNb250aGx5CiAgICAgICAgICAgIGFtb3VudDogeyB2YWx1ZTogIjUwMCIsIGN1cnJlbmN5OiAiRVVSIiB9CiAgICAgICAgICB9CiAgICAgICAgICBwaHlzaWNhbENhcmQ6IHsKICAgICAgICAgICAgZGVsaXZlcnlBZGRyZXNzOiB7CiAgICAgICAgICAgICAgYWRkcmVzc0xpbmUxOiAiMSBydWUgZGUgbGEgUGFpeCIKICAgICAgICAgICAgICBjaXR5OiAiUGFyaXMiCiAgICAgICAgICAgICAgcG9zdGFsQ29kZTogIjc1MDAyIgogICAgICAgICAgICAgIGNvdW50cnk6ICJGUkEiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgewogICAgICAgICAgYWNjb3VudE1lbWJlcnNoaXBJZDogIiRBQ0NPVU5UX01FTUJFUlNISVBfSURfMiIKICAgICAgICAgIHdpdGhkcmF3YWw6IHRydWUKICAgICAgICAgIGludGVybmF0aW9uYWw6IHRydWUKICAgICAgICAgIG5vbk1haW5DdXJyZW5jeVRyYW5zYWN0aW9uczogdHJ1ZQogICAgICAgICAgZUNvbW1lcmNlOiB0cnVlCiAgICAgICAgICBuYW1lOiAiVGVhbSBNZW1iZXIgMiIKICAgICAgICAgIHNwZW5kaW5nTGltaXQ6IHsKICAgICAgICAgICAgcGVyaW9kOiBNb250aGx5CiAgICAgICAgICAgIGFtb3VudDogeyB2YWx1ZTogIjEwMDAiLCBjdXJyZW5jeTogIkVVUiIgfQogICAgICAgICAgfQogICAgICAgICAgcGh5c2ljYWxDYXJkOiB7CiAgICAgICAgICAgIGRlbGl2ZXJ5QWRkcmVzczogewogICAgICAgICAgICAgIGFkZHJlc3NMaW5lMTogIktvbmlnc2FsbGVlIDEiCiAgICAgICAgICAgICAgY2l0eTogIkR1c3NlbGRvcmYiCiAgICAgICAgICAgICAgcG9zdGFsQ29kZTogIjQwMjEyIgogICAgICAgICAgICAgIGNvdW50cnk6ICJERVUiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIF0KICAgICAgY29uc2VudFJlZGlyZWN0VXJsOiAiJFlPVVJfUkVESVJFQ1RfVVJMIgogICAgICBjYXJkUHJvZHVjdElkOiAiJFlPVVJfQ0FSRF9QUk9EVUNUX0lEIgogICAgfQogICkgewogICAgLi4uIG9uIEFkZENhcmRzU3VjY2Vzc1BheWxvYWQgewogICAgICBfX3R5cGVuYW1lCiAgICAgIGNhcmRzIHsKICAgICAgICBpZAogICAgICAgIHN0YXR1c0luZm8gewogICAgICAgICAgc3RhdHVzCiAgICAgICAgICAuLi4gb24gQ2FyZENvbnNlbnRQZW5kaW5nU3RhdHVzSW5mbyB7CiAgICAgICAgICAgIF9fdHlwZW5hbWUKICAgICAgICAgICAgY29uc2VudCB7CiAgICAgICAgICAgICAgY29uc2VudFVybAogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAuLi4gb24gQWRkaW5nQ2FyZHNUb0RpZmZlcmVudEFjY291bnRzUmVqZWN0aW9uIHsKICAgICAgX190eXBlbmFtZQogICAgICBtZXNzYWdlCiAgICB9CiAgICAuLi4gb24gVG9vTWFueUl0ZW1zUmVqZWN0aW9uIHsKICAgICAgX190eXBlbmFtZQogICAgICBtZXNzYWdlCiAgICB9CiAgICAuLi4gb24gQWNjb3VudE1lbWJlcnNoaXBOb3RBbGxvd2VkUmVqZWN0aW9uIHsKICAgICAgX190eXBlbmFtZQogICAgICBtZXNzYWdlCiAgICB9CiAgfQp9Cg%3D%3D&tab=api" className="explorer-badge">Open in API Explorer</a>

```graphql {6,17-22,26,37-42,46} showLineNumbers
mutation AddMultipleCards {
  addCards(
    input: {
      cards: [
        {
          accountMembershipId: "$ACCOUNT_MEMBERSHIP_ID_1"
          withdrawal: true
          international: false
          nonMainCurrencyTransactions: false
          eCommerce: true
          name: "Team Member 1"
          spendingLimit: {
            period: Monthly
            amount: { value: "500", currency: "EUR" }
          }
          physicalCard: {
            deliveryAddress: {
              addressLine1: "1 rue de la Paix"
              city: "Paris"
              postalCode: "75002"
              country: "FRA"
            }
          }
        }
        {
          accountMembershipId: "$ACCOUNT_MEMBERSHIP_ID_2"
          withdrawal: true
          international: true
          nonMainCurrencyTransactions: true
          eCommerce: true
          name: "Team Member 2"
          spendingLimit: {
            period: Monthly
            amount: { value: "1000", currency: "EUR" }
          }
          physicalCard: {
            deliveryAddress: {
              addressLine1: "Konigsallee 1"
              city: "Dusseldorf"
              postalCode: "40212"
              country: "DEU"
            }
          }
        }
      ]
      consentRedirectUrl: "$YOUR_REDIRECT_URL"
      cardProductId: "$YOUR_CARD_PRODUCT_ID"
    }
  ) {
    ... on AddCardsSuccessPayload {
      __typename
      cards {
        id
        statusInfo {
          status
          ... on CardConsentPendingStatusInfo {
            __typename
            consent {
              consentUrl
            }
          }
        }
      }
    }
    ... on AddingCardsToDifferentAccountsRejection {
      __typename
      message
    }
    ... on TooManyItemsRejection {
      __typename
      message
    }
    ... on AccountMembershipNotAllowedRejection {
      __typename
      message
    }
  }
}
```

### Payload

```json {7,12,17,22} showLineNumbers
{
  "data": {
    "addCards": {
      "__typename": "AddCardsSuccessPayload",
      "cards": [
        {
          "id": "$CARD_ID_1",
          "statusInfo": {
            "status": "ConsentPending",
            "__typename": "CardConsentPendingStatusInfo",
            "consent": {
              "consentUrl": "$YOUR_CONSENT_URL"
            }
          }
        },
        {
          "id": "$CARD_ID_2",
          "statusInfo": {
            "status": "ConsentPending",
            "__typename": "CardConsentPendingStatusInfo",
            "consent": {
              "consentUrl": "$YOUR_CONSENT_URL"
            }
          }
        }
      ]
    }
  }
}
```

## Print physical cards when adding virtual cards {#print-with-virtual}

Please refer to the guides in the **physical cards section** to learn more about creating virtual and physical cards at the same time.
These guides cover settings, spending limits, and allowing your cardholders to choose their own PIN.

- [Print a physical card when adding a virtual card](../physical/guide-print.mdx#print-with-virtual)
- [Print multiple physical cards with group delivery](../physical/guide-print.mdx#print-group)

## Add single-use virtual cards {#add-suv}

### Add one single-use virtual card {#add-suv-one}

Add a new single-use virtual card for an existing account member by calling the `addSingleUseVirtualCard` mutation.

This mutation can be called on behalf of any account member with the permission `canManageCards`.
The permission `canManageAccountMembership` is optional.
Learn more about [permissions and card management](../../accounts/memberships/index.mdx#permissions-cards).

When you do this, make sure you are authenticated with a user access token using the name of the card's account member.
The new card is thus created with the `ConsentPending` status and a `consentUrl` is returned which invites the user to start the Strong Customer Authentication with Swan.
After the user completes the Strong Customer Authentication process, the new card changes to `Enabled` status.

Single-use virtual cards can't be physically printed, nor can they be added to digital wallets (Apple or Google).

### Add multiple single-use virtual cards {#add-suv-multiple}

Add new single-use virtual cards for existing account members by calling the `addSingleUseVirtualCards` mutation.

:::info Single-use virtual cards & server-to-server consent
If you want to issue single-use virtual cards without having direct human interaction to consent and reveal card numbers, you must be the account holder (not available for end-users) and have [server-to-server consent](../../users/consent/guide-implement-s2s.mdx) implemented.

For both the single-use virtual card mutations (`addSingleUseVirtualCard` and `addSingleUseVirtualCards`), the `SuccessForProjectOwnerPayload` will return a card in `ConsentPending` status.
The status changes to `Enabled` after the consent is validated.
It's recommended to verify the card status before using it.
:::